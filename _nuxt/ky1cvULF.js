import{I as ae,K as re,x as J,G as I,D as ce,bi as de,z as j,d as o,w as n,e as k,f as l,a0 as ue,B as V,g as e,n as b,A as L,c as v,as as fe,C as s,P as ge,O as X,a3 as Q,Z as y,t as c,F as R,X as N,W as E,y as me,aB as ve,r as S,bj as Z,o as ye,af as pe,an as xe,bk as be}from"#entry";import{_ as _e}from"./DlAUqK2U.js";import{_ as he}from"./Bylt95Ny.js";import{_ as ke}from"./DPJ6w8tY.js";import"./Bh1_C2x8.js";import"./kJjS-Msc.js";import"./B7kJiFyT.js";const we={slots:{root:["relative z-50 w-full","transition-colors"],container:"flex items-center justify-between gap-3 h-12",left:"hidden lg:flex-1 lg:flex lg:items-center",center:"flex items-center gap-1.5 min-w-0",right:"lg:flex-1 flex items-center justify-end",icon:"size-5 shrink-0 text-inverted pointer-events-none",title:"text-sm text-inverted font-medium truncate",actions:"flex gap-1.5 shrink-0 isolate",close:"text-inverted hover:bg-default/10 focus-visible:bg-default/10 -me-1.5 lg:me-0"},variants:{color:{primary:{root:"bg-primary"},secondary:{root:"bg-secondary"},success:{root:"bg-success"},info:{root:"bg-info"},warning:{root:"bg-warning"},error:{root:"bg-error"},neutral:{root:"bg-inverted"}},to:{true:""}},compoundVariants:[{color:"primary",to:!0,class:{root:"hover:bg-primary/90"}},{color:"secondary",to:!0,class:{root:"hover:bg-secondary/90"}},{color:"success",to:!0,class:{root:"hover:bg-success/90"}},{color:"info",to:!0,class:{root:"hover:bg-info/90"}},{color:"warning",to:!0,class:{root:"hover:bg-warning/90"}},{color:"error",to:!0,class:{root:"hover:bg-error/90"}},{color:"neutral",to:!0,class:{root:"hover:bg-inverted/90"}}],defaultVariants:{color:"primary"}},Se=Object.assign({inheritAttrs:!1},{__name:"UBanner",props:{as:{type:null,required:!1},id:{type:String,required:!1},icon:{type:[String,Object],required:!1},title:{type:String,required:!1},actions:{type:Array,required:!1},to:{type:null,required:!1},target:{type:[String,Object,null],required:!1},color:{type:null,required:!1},close:{type:[Boolean,Object],required:!1},closeIcon:{type:[String,Object],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},emits:["close"],setup(g,{emit:$}){const u=g,q=ae(),p=$,{t:D}=re(),m=J(),d=I(()=>X({extend:X(we),...m.ui?.banner||{}})({color:u.color,to:!!u.to})),f=I(()=>`banner-${u.id||"1"}`);ce(f,x=>{if(typeof document>"u"||typeof localStorage>"u")return;const _=localStorage.getItem(x)==="true";document.querySelector("html")?.classList.toggle("hide-banner",_)}),de({script:[{key:"prehydrate-template-banner",innerHTML:`
            if (localStorage.getItem('${f.value}') === 'true') {
              document.querySelector('html').classList.add('hide-banner')
            }`.replace(/\s+/g," "),type:"text/javascript"}]});function C(){localStorage.setItem(f.value,"true"),document.querySelector("html")?.classList.add("hide-banner"),p("close")}return(x,_)=>(o(),j(s(ge),{as:g.as,class:b(["banner",d.value.root({class:[u.ui?.root,u.class]})])},{default:n(()=>[g.to?(o(),j(ue,V({key:0,"aria-label":g.title},{to:g.to,target:g.target,...x.$attrs},{class:"focus:outline-none",tabindex:"-1",raw:""}),{default:n(()=>[..._[0]||(_[0]=[e("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)])]),_:1},16,["aria-label"])):k("",!0),l(fe,{class:b(d.value.container({class:u.ui?.container}))},{default:n(()=>[e("div",{class:b(d.value.left({class:u.ui?.left}))},null,2),e("div",{class:b(d.value.center({class:u.ui?.center}))},[L(x.$slots,"leading",{},()=>[g.icon?(o(),j(Q,{key:0,name:g.icon,class:b(d.value.icon({class:u.ui?.icon}))},null,8,["name","class"])):k("",!0)],!0),g.title||q.title?(o(),v("div",{key:0,class:b(d.value.title({class:u.ui?.title}))},[L(x.$slots,"title",{},()=>[y(c(g.title),1)],!0)],2)):k("",!0),g.actions?.length||q.actions?(o(),v("div",{key:1,class:b(d.value.actions({class:u.ui?.actions}))},[L(x.$slots,"actions",{},()=>[(o(!0),v(R,null,N(g.actions,(M,P)=>(o(),j(E,V({key:P,color:"neutral",size:"xs"},{ref_for:!0},M),null,16))),128))],!0)],2)):k("",!0)],2),e("div",{class:b(d.value.right({class:u.ui?.right}))},[L(x.$slots,"close",{ui:d.value},()=>[g.close?(o(),j(E,V({key:0,icon:g.closeIcon||s(m).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":s(D)("banner.close")},typeof g.close=="object"?g.close:{},{class:d.value.close({class:u.ui?.close}),onClick:C}),null,16,["icon","aria-label","class"])):k("",!0)],!0)],2)]),_:3},8,["class"])]),_:3},8,["as","class"]))}}),je=_e(Se,[["__scopeId","data-v-52c3d1a0"]]),Ce={class:"max-w-4xl mx-auto p-2"},Ie={class:"flex items-center gap-4"},$e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 my-4"},qe={class:"p-4 bg-blue-100 rounded-full flex items-center justify-center"},Me={class:"flex flex-col items-center justify-center"},Ae={class:"text-2xl font-bold"},De={class:"p-4 bg-green-100 rounded-full flex items-center justify-center"},Pe={class:"flex flex-col items-center justify-center"},Te={class:"text-2xl font-bold"},Le={class:"p-4 bg-orange-100 rounded-full flex items-center justify-center"},Be={class:"flex flex-col items-center justify-center"},Ue={class:"text-2xl font-bold"},ze={class:"p-4 bg-purple-100 rounded-full flex items-center justify-center"},Oe={class:"flex flex-col items-center justify-center"},Ve={class:"text-2xl font-bold"},Re={class:"my-6"},Ne={class:"my-6"},Ee={class:"p-4"},Fe={key:0,class:"text-center space-y-4"},Ge={class:"grid grid-cols-3 gap-12"},He={key:1,class:"space-y-6"},Ke={class:"text-center"},We={class:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-8 rounded-xl"},Xe={class:"text-2xl font-bold mb-2"},Ze={class:"text-3xl mb-4"},Je={key:0,class:"p-4 bg-white/10 rounded-lg backdrop-blur-sm"},Qe={key:0},Ye={key:0,class:"flex space-x-4 my-4"},et={key:1,class:"space-y-4"},tt={class:"flex justify-center gap-4"},st={class:"text-center"},lt={class:"mt-6"},nt={class:"space-y-2 dark:bg-gray-800 dark:text-black"},ot={class:"font-medium"},it={class:"text-sm text-gray-600 dark:text-white"},at={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 my-6"},rt={class:"flex items-center"},ct={class:"p-4 space-y-4"},dt={class:"space-y-2"},ut={class:"flex justify-between items-center"},ft={class:"space-y-2"},gt={class:"flex justify-between"},mt={class:"flex justify-between items-center"},vt={class:"flex justify-between items-center"},yt={class:"flex items-center"},pt={class:"grid grid-cols-2 gap-4"},xt={class:"space-y-4"},bt={class:"flex items-center space-x-4"},_t={class:"w-10 h-10 rounded-full flex items-center justify-center"},ht={className:"font-medium dark:text-white"},kt={className:"text-sm text-gray-600 dark:text-white"},wt={class:"text-right text-sm text-gray-500"},At=me({__name:"index",setup(g){const{user:$}=ve(),u=J(),q=S(u.mockData.mockLearningMaterials),p=S(u.mockData.mockStudyRecords),D=S(u.mockData.mockStudentProgress),m=S(u.mockData.mockStudentProgress.find(i=>i.studentId===$.value?.user.id)||{studentId:$.value?.user.id,totalStudied:0,correctAnswers:0,currentStreak:0,lastStudyDate:"2024-01-17",level:"beginner"}),d=S("study"),f=S(null),C=S(),[x,_]=Z(!1),[M]=Z(!1),P=()=>{const i=new Date().toISOString().split("T")[0],t=p.value.filter(a=>a.studiedAt.split("T")[0]===i);M.value=t.length>0};ye(()=>{P()});const F=()=>{if(!m.value)return q.value.filter(a=>a.difficulty==="beginner").slice(0,5);const i=p.value.map(a=>a.materialId),t=q.value.filter(a=>!i.includes(a.id));return t.length===0,t.slice(0,5)},Y=()=>{const i=F();if(i.length>0){const t=Math.floor(Math.random()*i.length);f.value=i[t],d.value="study",_(!1),C.value=Date.now()}},ee=()=>{_(!0)},T=i=>{if(f.value&&C.value){const t=Date.now(),a=Math.floor((t-C.value)/1e3);p.value.push({id:(p.value.length+1).toString(),materialId:f.value.id,studentId:$.value.id,studiedAt:new Date().toISOString(),timeSpent:a,isCorrect:i});const A=D.value.find(w=>w.materialId===f.value.id);A?(A.attempts+=1,i&&(A.correctAttempts+=1)):D.value.push({materialId:f.value.id,studentId:$.id,attempts:1,correctAttempts:i?1:0}),f.value=null,d.value="study",_(!1),C.value=null,P()}},te=()=>{f.value=null,d.value="study",_(!1),C.value=null},G=I(()=>m.value?Math.round(m.value.correctAnswers/m.value.totalStudied*100):0),se=I(()=>{const i=new Date().toISOString().split("T")[0];return p.value.filter(t=>t.studiedAt.split("T")[0]===i).length}),B=S(50),H=I(()=>m.value?m.value.totalStudied%B.value:0),K=I(()=>p.value.reduce((i,t)=>i+t.timeSpent,0)),le=I(()=>p.value.length===0?0:Math.round(K.value/p.value.length)),U=S("learningProgress"),ne=[{label:"开始学习",icon:"i-lucide-play",value:"startLearning",slot:"startLearning"},{label:"学习进度",icon:"i-lucide-percent",value:"learningProgress",slot:"learningProgress"},{label:"学习记录",icon:"i-lucide-dock",value:"learningRecords",slot:"learningRecords"}],z=i=>{d.value=i,f.value=null,_(!1)},W=i=>q.value.find(t=>t.id===i.materialId);return(i,t)=>{const a=Q,A=je,w=he,h=E,O=xe,oe=be,ie=ke;return o(),v("div",Ce,[s(M)?k("",!0):(o(),j(A,{key:0,color:"info",class:"mb-6 rounded-lg"},{title:n(()=>[e("div",Ie,[l(a,{name:"i-lucide-calendar-check",class:"w-6 h-6"}),t[8]||(t[8]=e("div",null," 今日还未开始学习，点击开始学习按钮进行打卡！ ",-1))])]),_:1})),e("div",$e,[l(w,{class:"flex items-center justify-center"},{default:n(()=>[e("div",null,[e("div",qe,[l(a,{name:"i-lucide-target",class:"w-6 h-6 text-blue-600"})]),e("div",Me,[e("p",Ae,c(s(m).totalStudied||0),1),t[9]||(t[9]=e("p",{class:"text-sm text-gray-600"}," 总学习量 ",-1))])])]),_:1}),l(w,{class:"flex items-center justify-center"},{default:n(()=>[e("div",null,[e("div",De,[l(a,{name:"i-lucide-trophy",class:"w-6 h-6 text-green-600"})]),e("div",Pe,[e("p",Te,c(s(G))+"% ",1),t[10]||(t[10]=e("p",{class:"text-sm text-gray-600"}," 正确率 ",-1))])])]),_:1}),l(w,{class:"flex items-center justify-center"},{default:n(()=>[e("div",null,[e("div",Le,[l(a,{name:"i-lucide-flame",class:"w-6 h-6 text-orange-600"})]),e("div",Be,[e("p",Ue,c(s(m)?.currentStreak||0),1),t[11]||(t[11]=e("p",{class:"text-sm text-gray-600"}," 连续天数 ",-1))])])]),_:1}),l(w,{class:"flex items-center justify-center"},{default:n(()=>[e("div",null,[e("div",ze,[l(a,{name:"i-lucide-clock",class:"w-6 h-6 text-purple-600"})]),e("div",Oe,[e("p",Ve,c(s(se)),1),t[12]||(t[12]=e("p",{class:"text-sm text-gray-600"}," 今日学习 ",-1))])])]),_:1})]),e("div",Re,[l(ie,{modelValue:s(U),"onUpdate:modelValue":t[7]||(t[7]=r=>pe(U)?U.value=r:null),color:"info",items:ne},{startLearning:n(()=>[e("div",Ne,[l(w,null,{header:n(()=>[...t[13]||(t[13]=[e("div",{class:"text-center"},[e("h3",{class:"text-base font-semibold leading-6"}," 今日学习 "),e("p",{class:"text-gray-600"}," 选择学习模式开始今日的英语学习 ")],-1)])]),default:n(()=>[e("div",Ee,[s(f)?(o(),v("div",He,[e("div",Ke,[e("div",We,[l(O,{class:"bg-white/20"},{default:n(()=>[y(c(s(f).type==="word"?"单词":s(f).type==="sentence"?"句子":"短语"),1)]),_:1}),e("h2",Xe,c(s(f).title),1),e("p",Ze,c(s(f).content),1),s(x)?(o(),v("p",Je,c(s(f).translation),1)):k("",!0)]),s(d)==="study"?(o(),v("div",Qe,[s(x)?(o(),v("div",Ye,[l(h,{icon:"i-lucide-circle-x",class:"justify-center flex-1 border border-red-200 bg-white text-red-600 hover:bg-red-50",onClick:t[3]||(t[3]=r=>T(!1))},{default:n(()=>[...t[18]||(t[18]=[y(" 不认识 ",-1)])]),_:1}),l(h,{icon:"i-lucide-circle-check-big",class:"justify-center flex-1 bg-green-600 hover:bg-green-700",onClick:t[4]||(t[4]=r=>T(!0))},{default:n(()=>[...t[19]||(t[19]=[y(" 认识 ",-1)])]),_:1})])):k("",!0),s(x)?k("",!0):(o(),j(h,{key:1,color:"neutral",class:"w-full justify-center p-4 mt-4",onClick:ee},{default:n(()=>[...t[20]||(t[20]=[y(" 显示翻译 ",-1)])]),_:1}))])):s(d)==="quiz"?(o(),v("div",et,[t[23]||(t[23]=e("p",{class:"text-gray-600"}," 你认为这个句子的意思是正确的吗？ ",-1)),e("div",tt,[l(h,{color:"success",onClick:t[5]||(t[5]=r=>T(!0))},{default:n(()=>[...t[21]||(t[21]=[y(" 正确 ",-1)])]),_:1}),l(h,{color:"danger",onClick:t[6]||(t[6]=r=>T(!1))},{default:n(()=>[...t[22]||(t[22]=[y(" 错误 ",-1)])]),_:1})])])):k("",!0)]),e("div",st,[l(h,{color:"ghost",onClick:te},{default:n(()=>[...t[24]||(t[24]=[y(" 返回学习模式选择 ",-1)])]),_:1})])])):(o(),v("div",Fe,[e("div",Ge,[l(h,{color:s(d)==="study"?"info":"ghost",class:"px-8 py-6 flex items-center justify-center",onClick:t[0]||(t[0]=r=>z("study"))},{default:n(()=>[e("div",null,[l(a,{name:"i-lucide-book-open",class:"w-5 h-5 mr-2"}),t[14]||(t[14]=e("div",null,"学习新内容",-1))])]),_:1},8,["color"]),l(h,{color:s(d)==="review"?"info":"ghost",class:"px-8 py-6 flex items-center justify-center",onClick:t[1]||(t[1]=r=>z("review"))},{default:n(()=>[e("div",null,[l(a,{name:"i-lucide-rotate-cw",class:"w-5 h-5 mr-2"}),t[15]||(t[15]=e("div",null,"复习练习",-1))])]),_:1},8,["color"]),l(h,{color:s(d)==="quiz"?"info":"ghost",class:"px-8 py-6 flex items-center justify-center",onClick:t[2]||(t[2]=r=>z("quiz"))},{default:n(()=>[e("div",null,[l(a,{name:"i-lucide-award",class:"w-5 h-5 mr-2"}),t[16]||(t[16]=e("div",null,"测试模式",-1))])]),_:1},8,["color"])]),l(h,{color:"info",class:"w-60 justify-center py-4 px-8",icon:"i-lucide-play",onClick:Y},{default:n(()=>[...t[17]||(t[17]=[y(" 开始学习 ",-1)])]),_:1})])),e("div",lt,[t[25]||(t[25]=e("h4",{class:"text-sm text-gray-600 mb-3"}," 今日推荐学习内容： ",-1)),e("div",nt,[(o(!0),v(R,null,N(F().slice(0,3),r=>(o(),v("div",{key:r.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg dark:bg-info-500/50"},[e("div",null,[e("p",ot,c(r.content),1),e("p",it,c(r.translation),1)]),l(O,{variant:"outline",color:"ghost"},{default:n(()=>[y(c(r.difficulty==="beginner"?"初级":r.difficulty==="intermediate"?"中级":"高级"),1)]),_:2},1024)]))),128))])])])]),_:1})])]),learningProgress:n(()=>[e("div",at,[l(w,null,{header:n(()=>[e("div",rt,[l(a,{class:"w-6 h-6 mr-2",name:"i-lucide-trending-up"}),t[26]||(t[26]=y("学习统计 ",-1))])]),default:n(()=>[e("div",ct,[e("div",dt,[e("div",ut,[t[27]||(t[27]=e("span",null,"当前等级",-1)),l(O,null,{default:n(()=>[y(c(s(m)?.level==="beginner"?"初级":s(m)?.level==="intermediate"?"中级":"高级"),1)]),_:1})]),e("div",ft,[e("div",gt,[t[28]||(t[28]=e("span",null,"周学习进度",-1)),e("span",null,c(s(H))+"/"+c(s(B)),1)]),l(oe,{"model-value":s(H)/s(B)*100,class:"h-3"},null,8,["model-value"]),e("div",mt,[t[29]||(t[29]=e("span",null,"平均学习时间",-1)),e("span",null,c(s(le))+"秒/题",1)]),e("div",vt,[t[30]||(t[30]=e("span",null,"累计学习时间",-1)),e("span",null,c(Math.round(s(K)/60))+"分钟",1)])])])])]),_:1}),l(w,null,{header:n(()=>[e("div",yt,[l(a,{class:"w-6 h-6 mr-2",name:"i-lucide-medal"}),t[31]||(t[31]=y("成绩勋章 ",-1))])]),default:n(()=>[e("div",pt,[t[35]||(t[35]=e("div",{class:"text-center p-4 bg-yellow-50 rounded-lg"},[e("div",{class:"text-2xl mb-2"}," 🎯 "),e("p",{class:"text-sm"}," 初学者 "),e("p",{class:"text-xs text-gray-600"}," 完成首次学习 ")],-1)),e("div",{class:b(["text-center p-4 rounded-lg",(s(m)?.currentStreak||0)>=3?"bg-orange-50":"bg-gray-50"])},[...t[32]||(t[32]=[e("div",{class:"text-2xl mb-2"}," 🔥 ",-1),e("p",{class:"text-sm"}," 连续学习 ",-1),e("p",{class:"text-xs text-gray-600"}," 连续3天学习 ",-1)])],2),e("div",{class:b(["text-center p-4 rounded-lg",s(G)>=80?"bg-green-50":"bg-gray-50"])},[...t[33]||(t[33]=[e("div",{class:"text-2xl mb-2"}," ⭐ ",-1),e("p",{class:"text-sm"}," 高准确率 ",-1),e("p",{class:"text-xs text-gray-600"}," 正确率达80% ",-1)])],2),e("div",{class:b(["text-center p-4 rounded-lg",s(m)?.totalStudied>=100?"bg-purple-50":"bg-gray-50"])},[...t[34]||(t[34]=[e("div",{class:"text-2xl mb-2"}," 🏆 ",-1),e("p",{class:"text-sm"}," 学习达人 ",-1),e("p",{class:"text-xs text-gray-600"}," 学习100个内容 ",-1)])],2)])]),_:1})])]),learningRecords:n(()=>[e("div",xt,[(o(!0),v(R,null,N(s(p),r=>(o(),v("div",{key:r.id,class:"flex items-center justify-between p-4 border rounded-lg"},[e("div",bt,[e("div",_t,[r.correct?(o(),j(a,{key:0,class:"w-6 h-6 text-green-600",name:"i-lucide-circle-check-big"})):(o(),j(a,{key:1,class:"w-6 h-6 text-red-600",name:"i-lucide-circle-x"}))]),e("div",null,[e("p",ht,c(W(r)?.content),1),e("p",kt,c(W(r)?.translation),1)])]),e("div",wt,[e("p",null,c(new Date(r.studiedAt).toLocaleDateString()),1),e("p",null,c(r.timeSpent)+"秒",1)])]))),128))])]),_:1},8,["modelValue"])])])}}});export{At as default};
